/********************DrawSousTitre.h***********************/#include 	"SousTitreRecord.h"#include 	"DisplayFont.h"#include 	<MixedMode.h>#ifndef	 __DrawSousTitre__#define	 __DrawSousTitre__// quelques structtypedef struct DrawStParam{short	Display_interligne;short	spacewith;short	kerning;short	AutomaticKerning;short	Boxing_SizeX;short	Boxing_SizeV;short	SafeArea;long		RGB_OutlineBoxColor;long		RGB_FaceColor;Rect		screenbound;}DrawStParam,*DrawStParamPtr;typedef struct scanst{SousTitreRecordPtr ST;short	lastindex;short	theChar;short	lastStyleindex;short	nextstyleindex;ScrpSTElement		stylerec;}scanst,*scanstPtr;typedef struct	linebreakelemnt{long		startindex;long		endindex;Rect		rect;}linebreakelemnt;typedef struct	linebreak{short 			nbligne;short			AutoKernLarg;Rect 				rect;		//rectangle total du STlinebreakelemnt 	elmt[200]; //100 lignes au maximum , cela devrait suffir ....}linebreak,*linebreakPtr;static unsigned short GetNextScanST(scanstPtr scan);static unsigned  short GetScanST(scanstPtr scan,long index);static short GiveKern(FontRenderRecordPtr FontRender,short firstchar,short secondchar,short firstcharstyl,short secondcharstyl);static short CalculLineBreak(scanstPtr scan,FontRenderRecordPtr FontRender,linebreakPtr Ligne,DrawStParamPtr DP);static  short   C_FastDraw_A_Char(FontRenderRecordPtr  FontRender,short  TheChar,short TheStyle, short  Xpos ,short Ypos ,char* BaseAdresse,long RowBytes,short deph,DrawStParamPtr DP);void C_paintRect(Rect *rect,long color,Ptr BaseAdresse,long RowBytes);static void CalRectDrawST(short justif,DrawStParamPtr DP,linebreakPtr Lignes,Rect *rectligne,short curlin,short *kernAddition);static inline short _abs(short val);static short DoCalcKernAuto(short largEcran,short *largLigne,short nbchar,DrawStParamPtr DP);static void  CalcRectGlobal (short justif,DrawStParamPtr DP,linebreakPtr Lignes);static inline long L_abs(long L);CharHeaderPtr C_GiveDisplayFont_FastCharInfo(FontRenderRecordPtr theFont,short thechar,short theStyle);CharHeaderPtr C_GiveDisplayFont_CharInfo(FontRenderRecordPtr theFont,short thechar,short theStyle);static  short InitialiseScanST(scanstPtr scan,SousTitreRecordPtr STPtr);pascal short Draw_SousTitreEng(FontRenderRecordPtr FontRender,			SousTitreRecordPtr STPtr,short X,short Y,Ptr ScreenPtr,			long RowBytes,	DrawStParamPtr DP,Rect *rect);// fin de l'include#endif	//defined ?	 __DrawSousTitre__						