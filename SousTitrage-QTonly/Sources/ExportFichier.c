#include <StdArg.h>#include <stdio.h>#include "BB.Globals_C.h"#include <Devices.h>#include "PrivateDialogLibraries.h"// les globals 	extern MyQDGlobals QD;	extern AppGlobals G;/* *	Dialog Module, created by Resorcerer		light Modified by Eric Tiquet  */#define thisDialogID 213/* Symbolic Dialog Item Numbers */static enum {	BUT1_OK = 1,	BUT2_Annuler,	RAD3,	RAD4,	RAD5,	CHK6_Inclure,	CHK7_Inclure,	CHK8_Convertir,	RAD9_N19,	RAD10_N19,	CHK11_Caract,	CHK12_Caract,	STXT13_Couleur,	POP14,	STXT15_Choix,	STXT16_Attributs,	STXT17_Choisissez,	STXT18_Options,	USER19,	Pop20,	USER21,	LASTITEM	};#define OK_ITEM 	BUT1_OK#define CANCEL_ITEM 	BUT2_Annuler/* Useful constants */#ifndef ENTERkey#define ENTERkey	0x3#endif#ifndef DELETEkey#define DELETEkey	0x8#endif#ifndef NIL#define NIL ((void *)0)#endif#ifndef TRUE#define TRUE 1#endif#ifndef FALSE#define FALSE 0#endif#ifndef FRONT_WINDOW#define FRONT_WINDOW  ((WindowPtr) (-1L))#endif/* Prototypes */int						C_ExportFichier(void);static DialogPtr OpenThisDialog(void);static void		CloseThisDialog(DialogPtr dlog);static void		DoDialogUpdate(DialogPtr dlog);static void		DoDialogActivate(DialogPtr dlog, int activ);static void		DoDialogContent(DialogPtr dlog, EventRecord *evt);static int			DoDialogItem(DialogPtr dlog, short itemHit);static pascal  Boolean MyFilter(DialogPtr dlog, EventRecord *evt, short *itemHit);static  Boolean CheckUserItems(Point where, short *itemHit);static int     AnyBadValues(DialogPtr dlog);static void    PrepareDonnees(DialogPtr dlog,ConstStr255Param fileName);static void ConfigureControls(DialogPtr dlog,Boolean flag);static Point where;static int modifiers;static PrefExportFichierHandle	PrefExport;/* Current button (item number), for each radio group */static short group1;static short group2;static short tempMSDos;/* Lists and/or popups */static UserPopUp popup14;/* *	Display this modal dialog.  Return TRUE if OK, FALSE if CANCEL or error. *	If the dialog displays values from outside this module, you should either *	import them from globals, or change the argument list of this routine to *	bring them in and pass them to OpenThisDialog(), DoDialogItem(), etc. */// #pragma segment Dialogsint C_ExportFichier()	{		short itemHit,okay,keepGoing=TRUE;		register DialogPtr dlog; GrafPtr oldPort;		/* Build dialog window and install its item values */				GetPort(&oldPort);		dlog = OpenThisDialog();		if (dlog == NIL) return(FALSE);		/* Entertain filtered user events until dialog is dismissed */				while (keepGoing) {			ModalDialog(MyFilter,&itemHit);			keepGoing = DoDialogItem(dlog,itemHit);			}				/*		 *	Do final processing of item values, such as exporting them to caller.		 *	DoDialogItem() has already called AnyBadValues().		 */				if (okay = (itemHit==OK_ITEM)) {		/* Or whatever is equivalent */			}		/* That's all, folks! */				CloseThisDialog(dlog);		SetPort(oldPort);				return(okay);	}/* *	We have to have a filter function, at the very least so that we can outline *	any default button, entertain keyboard editing commands, cmd-period canceling, etc. *	Note that you do not need to have a special user item covering the default button *	in your dialog item list. */static pascal Boolean MyFilter(DialogPtr dlog, EventRecord *evt, short *itemHit)	{		Boolean ans=FALSE,doHilite=FALSE; WindowPtr w;		short type,ch,part; Handle hndl; Rect box;		static long then; static Point clickPt;		WindowPtr	window;				w = (WindowPtr)(evt->message);		switch(evt->what) {			case updateEvt:				if (w == dlog) {					/* Update our dialog contents */					DoDialogUpdate(dlog);					ans = TRUE; *itemHit = 0;					} else {					/*					 *	Call your main event loop DoUpdate(w) routine here if you					 *	don't want unsightly holes in background windows caused					 *	by nested alerts, balloon help, or screen savers (see					 *	Tech Note #304).					 */					}				break;			case activateEvt:				if (w == dlog) {					DoDialogActivate(dlog,(evt->modifiers & activeFlag)!=0);					*itemHit = 0;					}				 else {					/*					 *	Call your main event loop DoActivate(w) routine here if					 *	you want to deactivate the former frontmost window, in order					 *	to unhighlight any selection, scroll bars, etc.					 */					}				break;							case mouseDown:					where = evt->where;		/* Make info available to DoDialog() */					part = FindWindow(evt->where, &window);				if ( part==inDrag)               /* pass screenBits.bounds to get all gDevices */						if	(window==(WindowPtr)BB_FrontNonFloatingWindow()) {							 DragWindow(window, evt->where,&QD.screenBits.bounds);							 ans=true;							*itemHit = 0;						 } 				break;			case mouseUp:				where = evt->where;		/* Make info available to DoDialog() */				GlobalToLocal(&where);				modifiers = evt->modifiers;				ans = CheckUserItems(where,itemHit);				break;							case keyDown:				if ((ch=(unsigned char)evt->message)=='\r' || ch==ENTERkey) {					*itemHit = OK_ITEM /* Default Item Number here */;					doHilite = ans = TRUE;					}				 else if (evt->modifiers & cmdKey) {					ch = (unsigned char)evt->message;					switch(ch) {						case 'x':						case 'X':							if (pdl_TextSelected(dlog))								{ SystemEdit(3); ZeroScrap(); DialogCut(dlog); TEToScrap(); }							 else {								/* Cut from anything else cuttable, like a list */								}							break;						case 'c':						case 'C':							if (pdl_TextSelected(dlog))								{ SystemEdit(3); ZeroScrap(); DialogCopy(dlog); TEToScrap(); }							 else {								/* Copy from anything else copyable, like a list */								}							break;						case 'v':						case 'V':							if (pdl_CanPaste(1,'TEXT'))								{ TEFromScrap(); DialogPaste(dlog); }							 else {							 	/* Deal with any other pasteable scraps here */								}							break;						case 'a':						case 'A':							if (((DialogPeek)dlog)->editField >= 0) {								/* Dialog has text edit item: select all */								SelectDialogItemText(dlog,((DialogPeek)dlog)->editField+1,0,32767);								}							 else {								}							*itemHit = 0;							break;						case '.':							*itemHit = CANCEL_ITEM;							doHilite = TRUE;							break;						}					ans = TRUE;		/* Other cmd-chars ignored */					}				break;			}					if (doHilite) {			GetDialogItem(dlog,*itemHit,&type,&hndl,&box);			/* Reality check */			if (type == (btnCtrl+ctrlItem)) {				long soon = TickCount() + 7;		/* Or whatever feels right */				HiliteControl((ControlHandle)hndl,1);				while (TickCount() < soon) ;		/* Leave hilited for a bit */				}			}		return(ans);	}/* * Mouse down event: * Check if it's in some user item, and convert to itemHit if appropriate. */static Boolean CheckUserItems(Point where, short *itemHit)	{		if (PtInRect(where,&popup14.shadow))			{ *itemHit = pdl_DoUserPopUp(&popup14) ? POP14 : 0; return(TRUE); }		return(FALSE);	}/* * Redraw the contents of this dialog due to update event. * If you have not installed UserItem draw routines, you should redraw * them explicitly here; otherwise, UpdateDialog() will call your routines. */static void DoDialogUpdate(DialogPtr dlog)	{		GrafPtr oldPort;short type; Handle hndl; Rect box;		GetPort(&oldPort); SetPort(dlog);		BeginUpdate(dlog);		TextSize(9); 				UpdateDialog(dlog,dlog->visRgn);		GetDialogItem(dlog,USER19,&type,&hndl,&box);		MakeReliefRectangle1(&box);		GetDialogItem(dlog,USER21,&type,&hndl,&box);		MakeReliefRectangle1(&box);		GetDialogItem(dlog,STXT17_Choisissez,&type,&hndl,&box);		MoveTo(box.left,box.bottom);		LineTo(box.right,box.bottom);		GetDialogItem(dlog,STXT18_Options,&type,&hndl,&box);		MoveTo(box.left,box.bottom);		LineTo(box.right,box.bottom);				pdl_DrawPopUp(&popup14);		pdl_FrameDefault(dlog,BUT1_OK,TRUE);		EndUpdate(dlog);		SetPort(oldPort);	}/* * Activate event: Activate or deactivate this dialog and any items in it */static void DoDialogActivate(DialogPtr dlog, int activ)	{		SetPort(dlog);	}/* * Build this dialog's window on desktop, and install initial item values. * Return the dlog opened, or NIL if error (no resource, no memory). */static DialogPtr OpenThisDialog()	{		short type,sm,a; Handle hndl; Rect box; GrafPtr oldPort;		DialogPtr dlog;		GetPort(&oldPort);		SetDialogFont(kFontIDGeneva);		dlog = GetNewDialog(thisDialogID,NIL,FRONT_WINDOW);		if (dlog == NIL) { SysBeep(1); return(NIL); }	/* Poor man's error message */		SetPort(dlog);		TextSize(9); 		/* Fill in dialog's values here */		PrefExport=nil;		GetExportFileinPref(&PrefExport);		if (PrefExport){					pdl_PutDlgChkRadio(dlog,RAD3, false);			pdl_PutDlgChkRadio(dlog,RAD4, FALSE);			pdl_PutDlgChkRadio(dlog,RAD5, FALSE);			group1 =(**PrefExport).Preference_TypeExport+RAD3-1;			pdl_PutDlgChkRadio(dlog,group1,true);					pdl_PutDlgChkRadio(dlog,CHK6_Inclure,	(**PrefExport).Preference_InclureCommentaire);			pdl_PutDlgChkRadio(dlog,CHK7_Inclure,   (**PrefExport).Preference_InclureSousNumero);			pdl_PutDlgChkRadio(dlog,CHK8_Convertir, (**PrefExport).Preference_ConvertMsDos);			if ((**PrefExport).Preference_N19_TypeTeletexte) {			   pdl_PutDlgChkRadio(dlog,RAD9_N19,false);			   pdl_PutDlgChkRadio(dlog,group2=RAD10_N19, true);			} else {			   pdl_PutDlgChkRadio(dlog,group2=RAD9_N19,true);			   pdl_PutDlgChkRadio(dlog,RAD10_N19, false);			}			pdl_PutDlgChkRadio(dlog,CHK11_Caract,(**PrefExport).Preference_DoubleHauteur);			pdl_PutDlgChkRadio(dlog,CHK12_Caract,(**PrefExport).Preference_DoubleLargeur);// on regarde si noouveau pref export 			if (GetHandleSize((Handle)PrefExport)==sizeof(PrefExportFichier) ){				// oui on rŽcupre la nouvelle position verticale							a=1;				if ((**PrefExport).Preference_VP==21)  a=2;				GetDialogItem(dlog,Pop20,&type,&hndl,&box);				SetControlValue((ControlHandle)hndl,a);							} else {				// non vieux pref export				// la position verticale							GetDialogItem(dlog,Pop20,&type,&hndl,&box);				SetControlValue((ControlHandle)hndl,1);			}								} else {					PrefExport=(PrefExportFichierHandle)NewHandleClear(sizeof(PrefExportFichier));			pdl_PutDlgChkRadio(dlog,group1 = RAD3, TRUE);			pdl_PutDlgChkRadio(dlog,RAD4, FALSE);			pdl_PutDlgChkRadio(dlog,RAD5, FALSE);						pdl_PutDlgChkRadio(dlog,CHK6_Inclure,FALSE /* Or whatever */ );			pdl_PutDlgChkRadio(dlog,CHK7_Inclure,FALSE /* Or whatever */ );			pdl_PutDlgChkRadio(dlog,CHK8_Convertir,FALSE /* Or whatever */ );				pdl_PutDlgChkRadio(dlog,group2 = RAD9_N19, true);			pdl_PutDlgChkRadio(dlog,RAD10_N19, FALSE);				pdl_PutDlgChkRadio(dlog,CHK11_Caract,FALSE /* Or whatever */ );			pdl_PutDlgChkRadio(dlog,CHK12_Caract,FALSE /* Or whatever */ );			(**PrefExport).Preference_Couleur=3;						(**PrefExport).Preference_VP=23;			GetDialogItem(dlog,Pop20,&type,&hndl,&box);			SetControlValue((ControlHandle)hndl,1);		}		if (PrefExport) {			sm=(**PrefExport).Preference_Couleur;			}				if (sm==0) sm=3;		tempMSDos=pdl_GetDlgChkRadio(dlog,CHK8_Convertir);				if (!pdl_InitPopUp(dlog,&popup14,POP14,13, 2012,sm))			goto broken;				/* on adapte les controls en fct du choix de n19 */ 		GetDialogItem(dlog,RAD9_N19,&type,&hndl,&box);	  		if (GetControlValue((ControlHandle)hndl) ){			GetDialogItem(dlog,CHK11_Caract,&type,&hndl,&box);			HiliteControl ((ControlHandle)hndl,255);			GetDialogItem(dlog,CHK12_Caract,&type,&hndl,&box);			HiliteControl ((ControlHandle)hndl,255);			popup14.active=false;			DisableItem(popup14.menu,0);			pdl_TruncPopUp(&popup14);		} else {			GetDialogItem(dlog,CHK11_Caract,&type,&hndl,&box);			HiliteControl ((ControlHandle)hndl,0);			GetDialogItem(dlog,CHK12_Caract,&type,&hndl,&box);			HiliteControl ((ControlHandle)hndl,0);						popup14.active=true;			EnableItem(popup14.menu,0);			pdl_TruncPopUp(&popup14);		}				ConfigureControls( dlog,pdl_GetDlgChkRadio(dlog,RAD4) );		TextFont(kFontIDGeneva); 		ShowWindow(dlog);		return(dlog);		/* Error return */broken:		CloseThisDialog(dlog);		SetPort(oldPort);		return(NIL);	}/* * Clean up any allocated stuff, and return dialog to primordial mists */static void CloseThisDialog(DialogPtr dlog)	{		pdl_DisposePopUp(&popup14);		DisposeDialog(dlog);	/* Call CloseDialog if you provide storage to GetNewDialog */		DisposeHandle((Handle)PrefExport);	}/* cette routine rŽcupre  la configuration du dialog,	et propose un nom pour le fichier ˆ sauvegarder*/static void PrepareDonnees(DialogPtr dlog,ConstStr255Param fileName){short type; Handle hndl; Rect box; Point pt; long a;Str255	st0,st1,defstr="\p???";Str255*	P;			SetHandleSize((Handle)PrefExport,sizeof(PrefExportFichier)); // la nouvelle taille		if (pdl_GetDlgChkRadio(dlog,RAD3) )(**PrefExport).Preference_TypeExport=1;		if (pdl_GetDlgChkRadio(dlog,RAD4) )(**PrefExport).Preference_TypeExport=2;		if (pdl_GetDlgChkRadio(dlog,RAD5) )(**PrefExport).Preference_TypeExport=3;		(**PrefExport).Preference_InclureCommentaire=pdl_GetDlgChkRadio(dlog,CHK6_Inclure);		(**PrefExport).Preference_InclureSousNumero=pdl_GetDlgChkRadio(dlog,CHK7_Inclure);		(**PrefExport).Preference_ConvertMsDos=pdl_GetDlgChkRadio(dlog,CHK8_Convertir);		(**PrefExport).Preference_N19_TypeTeletexte=pdl_GetDlgChkRadio(dlog,RAD10_N19);		(**PrefExport).Preference_DoubleHauteur=pdl_GetDlgChkRadio(dlog,CHK11_Caract);		(**PrefExport).Preference_DoubleLargeur=pdl_GetDlgChkRadio(dlog,CHK12_Caract);		(**PrefExport).Preference_Couleur=popup14.currentChoice;		(**PrefExport).Preference_VP=23;				GetDialogItem(dlog,Pop20,&type,&hndl,&box);		if ( GetControlValue((ControlHandle)hndl)==2 )(**PrefExport).Preference_VP=21;						PutExportFileinPref(PrefExport);/* on recopie les valeurs de configurations dans les globales du programme	pour la routine d'exportation en assembleur*/		G.Preference_TypeExport=(**PrefExport).Preference_TypeExport;		G.Preference_InclureCommentaire=pdl_GetDlgChkRadio(dlog,CHK6_Inclure);		G.Preference_InclureSousNumero=pdl_GetDlgChkRadio(dlog,CHK7_Inclure);		G.Preference_ConvertMsDos=pdl_GetDlgChkRadio(dlog,CHK8_Convertir);		G.Preference_N19_TypeTeletexte=pdl_GetDlgChkRadio(dlog,RAD10_N19);		G.Preference_DoubleHauteur=pdl_GetDlgChkRadio(dlog,CHK11_Caract);		G.Preference_DoubleLargeur=pdl_GetDlgChkRadio(dlog,CHK12_Caract);		G.Preference_Couleur=popup14.currentChoice;		G.N19_VPStart=(**PrefExport).Preference_VP;		/* maitenant on propose un nom par dŽfaut pour le fichier	si conversion ms-dos on reduit ˆ 8 lettres le nom	(sinon 27)	et on rajoute l'extension appropriŽe*/				if (fileName) {													// on choisi le nom par default que l'on propose pour le fichier			if (G.Preference_TitreOriginal[0]) P=(Str255*)&G.Preference_TitreOriginal;			else {				 if (G.Preference_TitreFrancais[0]) P=(Str255*)&G.Preference_TitreFrancais;					else { 						if (G.Preference_TitreEpisodeTraduit[0]) P=(Str255*)&G.Preference_TitreEpisodeTraduit;						else {							if  (G.Preference_TitreEpisodeOriginal[0]) P=(Str255*)&G.Preference_TitreEpisodeOriginal;							else {						  		P=(Str255*)&defstr;				  			}				  		}					}			  	}								a=(long)*P+1;			if (a>28) a=27;			BlockMove(P,&st1,a);						if (G.Preference_ConvertMsDos || G.Preference_TypeExport==2 )				if (a>8) {						st1[0]=8;						st1[8]='&';					}								/* on accole l'extension pour pc */				GetIndString(&st0,129,8+G.Preference_TypeExport);			BlockMove(&st0[1],&st1[st1[0]+1],(long)st0[0]);			st1[0]+=st0[0];				BlockMove(&st1,(Ptr)fileName,(long)st1[0]+1);		}}/* * Deal with user clicking on an item in this dialog, either modal or non-modal. * The local point is in where; modifiers in modifiers. * Returns whether or not the dialog should be closed (keepGoing). */static int DoDialogItem(DialogPtr dlog, short itemHit)	{		short type,okay=FALSE,keepGoing=TRUE,val;		Handle hndl; Rect box; Point pt;		unsigned char *p,str[256];		Str255		fileName;		if (itemHit<1 || itemHit>=LASTITEM)			return(keepGoing);				/* Only legal items, please */		GetDialogItem(dlog,itemHit,&type,&hndl,&box);		switch(type) {			case ctrlItem+btnCtrl:				switch(itemHit) {					case BUT1_OK:						PrepareDonnees(dlog,&fileName);						if( DoExport_Fichier(&fileName,1) ){								keepGoing = FALSE;						 		okay = TRUE;								}														break;					case BUT2_Annuler:						keepGoing = FALSE;						break;					}				break;			case ctrlItem+chkCtrl:				SetControlValue((ControlHandle)hndl,val = !GetControlValue((ControlHandle)hndl));				switch(itemHit) {					case CHK6_Inclure:						break;					case CHK7_Inclure:						break;					case CHK8_Convertir:						tempMSDos=pdl_GetDlgChkRadio(dlog,CHK8_Convertir);						break;					case CHK11_Caract:						break;					case CHK12_Caract:						break;					}				break;			case ctrlItem+radCtrl:				switch(itemHit) {					case RAD3:		/* Group 1 */					case RAD4:					case RAD5:								if (itemHit != group1) {								SetControlValue((ControlHandle)hndl,val=!GetControlValue((ControlHandle)hndl));								GetDialogItem(dlog,group1,&type,&hndl,&box);								SetControlValue((ControlHandle)hndl,FALSE);								group1 = itemHit;								}																if(itemHit==RAD4)ConfigureControls(dlog,true);								else ConfigureControls(dlog,false);																// si fichier cmc on force le mode MSDOS								if(itemHit==RAD5) pdl_PutDlgChkRadio(dlog,CHK8_Convertir,true);																break;													case RAD9_N19:					case RAD10_N19:							if (itemHit != group2) {								SetControlValue((ControlHandle)hndl,val=!GetControlValue((ControlHandle)hndl));								GetDialogItem(dlog,group2,&type,&hndl,&box);								SetControlValue((ControlHandle)hndl,FALSE);								group2 = itemHit;								}																/* on adapte les controls en fct du choix de n19 */ 								GetDialogItem(dlog,RAD9_N19,&type,&hndl,&box);								if (GetControlValue((ControlHandle)hndl) ){									GetDialogItem(dlog,CHK11_Caract,&type,&hndl,&box);									HiliteControl ((ControlHandle)hndl,255);									GetDialogItem(dlog,CHK12_Caract,&type,&hndl,&box);									HiliteControl ((ControlHandle)hndl,255);									popup14.active=false;									DisableItem(popup14.menu,0);									pdl_DrawPopUp(&popup14);								} else {									GetDialogItem(dlog,CHK11_Caract,&type,&hndl,&box);									HiliteControl ((ControlHandle)hndl,0);									GetDialogItem(dlog,CHK12_Caract,&type,&hndl,&box);									HiliteControl ((ControlHandle)hndl,0);												popup14.active=true;									EnableItem(popup14.menu,0);									pdl_DrawPopUp(&popup14);																	}																break;					}				break;			case ctrlItem+resCtrl:				break;			case statText:				switch(itemHit) {					case STXT13_Couleur:		/* NOT Enabled */						break;					case STXT15_Choix:			/* NOT Enabled */						break;					case STXT16_Attributs:		/* NOT Enabled */						break;					case STXT17_Choisissez:		/* NOT Enabled */						break;					case STXT18_Options:		/* NOT Enabled */						break;					}				break;			case editText:				break;			case iconItem:				break;			case picItem:				break;			case userItem:				switch(itemHit) {					case POP14:						/* popup14.currentChoice has changed */						break;					case USER19:						break;					case USER21:						break;					}				break;			}		if (okay) keepGoing = AnyBadValues(dlog);		return(keepGoing);	}	static void ConfigureControls(DialogPtr dlog,Boolean flag){short type; Handle hndl; Rect box;	if (flag){	HideDialogItem(dlog,CHK6_Inclure);	HideDialogItem(dlog,CHK7_Inclure);	HideDialogItem(dlog,CHK8_Convertir);	ShowDialogItem(dlog,RAD9_N19);	ShowDialogItem(dlog,RAD10_N19);	ShowDialogItem(dlog,CHK11_Caract);	ShowDialogItem(dlog,CHK12_Caract);	ShowDialogItem(dlog,STXT13_Couleur);	ShowDialogItem(dlog,POP14);	ShowDialogItem(dlog,STXT15_Choix);	ShowDialogItem(dlog,STXT16_Attributs);	ShowDialogItem(dlog,Pop20);} else {	HideDialogItem(dlog,RAD9_N19);	HideDialogItem(dlog,RAD10_N19);	HideDialogItem(dlog,CHK11_Caract);	HideDialogItem(dlog,CHK12_Caract);	HideDialogItem(dlog,STXT13_Couleur);	HideDialogItem(dlog,POP14);	HideDialogItem(dlog,STXT15_Choix);	HideDialogItem(dlog,STXT16_Attributs);	HideDialogItem(dlog,Pop20);	ShowDialogItem(dlog,CHK6_Inclure);	ShowDialogItem(dlog,CHK7_Inclure);	ShowDialogItem(dlog,CHK8_Convertir);	GetDialogItem(dlog,POP14,&type,&hndl,&popup14.box);	InsetRect(&popup14.bounds,-2,-2);	EraseRect(&popup14.bounds);	InsetRect(&popup14.bounds,2,2);	}		GetDialogItem(dlog,USER21,&type,&hndl,&box);	InvalRect(&box);		GetDialogItem(dlog,POP14,&type,&hndl,&popup14.box);	popup14.bounds = popup14.box;	InsetRect(&popup14.bounds,-1,-1);	popup14.shadow = popup14.bounds;	popup14.shadow.right++;	popup14.shadow.bottom++;	//pdl_DrawPopUp(&popup14);	}/* * Pull values out of dialog items and deliver TRUE if any of them are * illegal or inconsistent; otherwise deliver FALSE.  If any values are bad, * you should inform your user about the problem here before delivering TRUE. * If any items are missing values, this is the place to assign any defaults. */static int AnyBadValues(DialogPtr dlog)	{		char str[256]; short val,len;		/* ?? = group1; */	/* Contains item number of set radio button in this group */		val = pdl_GetDlgChkRadio(dlog,CHK6_Inclure);		val = pdl_GetDlgChkRadio(dlog,CHK7_Inclure);		val = pdl_GetDlgChkRadio(dlog,CHK8_Convertir);		val = pdl_GetDlgChkRadio(dlog,CHK11_Caract);		val = pdl_GetDlgChkRadio(dlog,CHK12_Caract);		/* ?? = popup14.currentChoice */		return(FALSE);	}