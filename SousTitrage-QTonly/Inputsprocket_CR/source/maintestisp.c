/* *  © 1997-2000 Metrowerks Corp. * *  Questions and comments to: *       <mailto:support@metrowerks.com> *       <http://www.metrowerks.com/> */#include <Dialogs.h>#include <Fonts.h>#include <MacWindows.h>#include <Menus.h>#include <QuickDraw.h>#include <TextEdit.h>#include <TextEdit.h>#include "ISp_Sample.h"#include <stdio.h>enum{	kAlertID = 128};static void Initialize(void){#if !TARGET_API_MAC_CARBON	InitGraf(&qd.thePort);	InitFonts();	InitWindows();	InitMenus();	TEInit();	InitDialogs(nil);#endif	InitCursor();}pascal unsigned long ISp_CR(unsigned long crcode , unsigned long crparam , Input_GameState* igs);void main(void){long red;NumVersion res;short end=0;Input_GameState igs;EventRecord	theEvent;long butaction=0;long button1=0;short 	actionb=0;	Initialize();		//NoteAlert(kAlertID, NULL);	// test input sprocket	//printf("test\n");		// on initialise le joystick.	red=ISp_CR(0x01,0xCACABEBEL,&igs);	igs.button=0;// loop de gestion	do{	WaitNextEvent(everyEvent, &theEvent, 0, nil);	if (theEvent.what==mouseDown) end =true;		//on gère les bottons du joystick;		red=ISp_CR(2,0xCACABEBEL,&igs);		butaction=igs.button^button1;		if (butaction&igs.button) {// button-down			printf ("FIRE  FIRE  FIRE  FIRE  FIRE  FIRE  %lx \n",butaction);						}	button1=igs.button; // pour le n-1;		printf("throttleInput :%d,yawInput :%d,pitch :%d, rollInput :%d ,button : %lx \n ",igs.throttleInput,igs.yawInput,igs.pitchInput,igs.rollInput,igs.button);		}while(end != true);	red=ISp_CR(3,0xCACABEBEL,0);	red=ISp_CR(0x01,0xCACABEBEL,&igs);	red=ISp_CR(3,0xCACABEBEL,0);	red=ISp_CR(0x01,0xCACABEBEL,&igs);	red=ISp_CR(3,0xCACABEBEL,0);	igs.button=0;		// on arrête de sprocket}